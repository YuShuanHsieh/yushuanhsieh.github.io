<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A technical blog about software engineering, system design, and modern development practices."><meta name=author content="Cherie Hsieh"><title>Web — Cherie's Tech Blog</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link rel=stylesheet href="/css/style.css?v=1771496292"></head><body><header class=site-header><div class=header-inner><a href=https://yushuanhsieh.github.io/ class=site-logo><span class=logo-icon>⟨/⟩</span>
<span class=logo-text>Cherie's Tech Blog</span></a><nav class=site-nav><a href=/ class=nav-link>Home</a>
<a href=/posts/ class=nav-link>Posts</a>
<a href=/categories/ class=nav-link>Categories</a>
<a href=/about/ class=nav-link>About</a></nav><button class=mobile-menu-toggle aria-label="Toggle menu">
<span></span>
<span></span>
<span></span></button></div></header><main class=site-main><section class=post-list-page><header class=page-header><h1 class=page-title>Web</h1></header><div class=post-list><article class=post-list-item><div class=post-meta><time datetime=2019-03-03>Mar 3, 2019</time>
<span class=reading-time>6 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2019-03-03-study-2019-02/>2019/02月份自我學習回顧</a></h2><p class=post-list-summary><p>![study-2019-02]({{ site.url }}/assets/images/study-2019-02.png)</p><h2 id=前言>前言</h2><p>這個月大多在適應新的生活環境，第一次來新竹工作，不意外地在新手村落腳。在還沒來新竹之前，就聽聞過新竹可能是個比台北無聊的地方，那時候覺得反正我生活也很宅，不是 coding 就是買化妝品，只要有舒適的套房和康是美就可以存活了，但是實際上沒有我想的這麼簡單XD 畢竟新竹的社群活動真的少很多，讓假日少了一些樂趣。既然沒有實體活動，只能在線上多參與一些活動或是多看別人分享的文章了。</p><p>本月份學習內容除了加強 React 之外，也開始加入多一點 Golang 內容，不意外的話，之後工作使用語言應該會是 JavaScript 和 Golang，所以先安排階段性的練習，在之後專案中也能比較快上手。</p><h2 id=學習回顧>學習回顧</h2><h3 id=react>React</h3><p>React 在大致上用過一輪主流的 libs 後，開始慢慢把學習重心放在 source code 研究。例如 build form 常用的 <code>formlik</code>，看一下他是怎樣透過簡單的 <code>loadash.toPath</code> function 取得 value，讓 formlik 可以用在複雜的 nested form 上。另外也研究 <code>react-bootsrap</code> 和 <code>material UI</code> 中 styled component 架構，希望對於往後開發相關 component 有幫助。</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2019-02-27>Feb 27, 2019</time>
<span class=reading-time>7 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2019-02-27-react-hooks/>React Hooks with memoizedState</a></h2><p class=post-list-summary><h2 id=前言>前言</h2><p>React Hooks 自從正式 release 後，就出現很多相關教學文章，所以這篇不是講如何實作，而是說他如何在 stateless functional component 中保存當前 state。 此外，最近也開始嘗試把 class component 轉換成使用 hooks 的 components，但過程中還是需要蠻多調整，包含之前有使用一些 lifecycle functions ，藉此機會順便檢視是否真的必要使用這些 functions，是否可以透過其他架構方式來簡化。</p><h2 id=usestate>useState</h2><p>以下是我們使用 useState function 的基本範例：</p><div class=highlight><div style=background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>function</span> <span style=color:#1f2328>Example</span><span style=color:#1f2328>(</span><span style=color:#1f2328>props</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>state</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>setState</span><span style=color:#1f2328>]</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>useState</span><span style=color:#1f2328>(</span><span style=color:#1f2328>initialState</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>return</span> <span style=color:#1f2328>(</span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>/// ReactElement
</span></span></span><span style=display:flex><span>  <span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></td></tr></table></div></div><p>依照 functional component 邏輯，我們應該每次都會新建一個 state，導致 state 值無法保存。不過透過 React Hooks，我們卻可以在每次 render 時得到上次更新後的 state 值，這是為什麼呢？</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2019-02-03>Feb 3, 2019</time>
<span class=reading-time>6 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2019-02-03-study-2019-01/>2019/01月份自我學習回顧</a></h2><p class=post-list-summary><p>又到了每個月檢討念書進度的日子了，這次 2019 新的一年有蠻多人生大轉變，像是離職換了一個新的工作環境，以及脫離媽寶身份，跑去新竹生活等。 Moxa 算是我轉職後第一份的正式工作，而在這一年中其實學到很多經驗，但是也對一些流程和開發方式有些疑問。我很想要根據這些問題提出自己的見解，可惜經驗少，又沒有其他公司經驗可以參考，因此總有很想要提出改善，卻又不知道該如何改善的感覺。</p><p>而在年底時，剛好有這個機會可以去趨勢工作，在考量趨勢科技是一家成熟軟體公司的情況下，雖然目前開發經驗還累積不足，但還是決定前往了。我不能説決定是不是正確的，但是我覺得人生就是充滿各種契機，只要在過程中很努力的學習，相信最後都還是值得的結果。</p><p>話又說回來，這次學習主軸又拉回前端，並且參雜一點 Network 理論。這次學習是以 React 以及相關 lib 為主，而 network 則是清大開放課程的 <strong>區域網路</strong>，之前上完這位教授的網路概論，覺得收穫良多，所以繼續上教授的另一門課程。</p><p>此外，這次在學習紀錄上則是採用 <strong>91哥</strong> 所提到的 <code>Trello</code> + <code>Calendar Plugin</code>，不過比較不方便的是因為每天紀錄都要開一張卡，寫 blog 時不好統整，因此又自己寫了一個小工具，可以讓這些 Card 擷取並轉換成自己的格式。</p><p>![12-study]({{ site.url }}/assets/images/study-2019-01.png)</p><h2 id=學習回顧>學習回顧</h2><h3 id=react>React</h3><p>由於已經學習過一個框架，所以在學習另一個框架的時候，就把重點擺在它的實作原理和在應用時應該要注意的事項。像是 Lifecycle 一定要知道（React 16 版本）還有 render 時的流程，要如何避免它會 over render。甚至當這些畫面沒有如你預期更新時。可能是哪些流程出了問題等。</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2019-01-23>Jan 23, 2019</time>
<span class=reading-time>6 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2019-01-23-redux-problems/>工作 - Redux State 被異常更新除錯紀錄</a></h2><p class=post-list-summary><h2 id=問題>問題：</h2><p>今天收到 back-end 同事回饋，說是在新版本的 APP UI 中出現不正常行為。由於我們的 menu 必須根據 Embedded System 中的 Applcation 來增減，因此就使用 menu state 來讓其他 component 也可以透過 dispatch 控制 menu 項目。</p><p>menu state 中有一個 property 是用來記錄 menu 的縮放，結果現在這個縮放行為會在使用者按 menu item 時出現異常，property value 會回到原始狀態 (initial state)。</p><h2 id=找出原因>找出原因：</h2><p>當同事回報這個問題時，第一個想到的就是在 menu state 被 re-create，才會引發 re-render 行為，進而讓 menu 回到沒有縮放的初始狀態。</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2019-01-17>Jan 17, 2019</time>
<span class=reading-time>10 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2019-01-17-react-and-redux/>使用 React-Redux 注意事項和運作原理</a></h2><p class=post-list-summary><h2 id=前言>前言</h2><p>網路上有很多關於如何使用 <code>redux</code> and <code>react-redux</code> 的教學文章，所以在這邊就不寫如何去應用，而是會著重在一些可能會忽略的細節以及大概的 實作原理。其實這些細節都寫在官網上，不過一般在教學文章內較少著墨，所以特別摘錄出來，讓大家在使用 <code>react-redux</code> 時能注意到可能會發生的問題。</p><h2 id=mapstatetoprops-issues><code>mapStateToProps</code> Issues</h2><p>首先來談談在建立 connectHOC 常用到的 <code>mapStateToProps</code>，由於這個
function 關係到 component props，所以就容易產生沒有發生 render 或是 render 次數過多的問題。</p><h3 id=1-render-沒有被觸發>1. render() 沒有被觸發</h3><p>關於這部分，官網也有提出相關內容：</p><blockquote><p>By default, React Redux decides whether the contents of the object returned from mapStateToProps are different using === comparison <strong>(a &ldquo;shallow equality&rdquo; check)</strong> on each fields of the returned object.</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2018-10-05>Oct 5, 2018</time>
<span class=reading-time>4 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2018-10-05-study-9/>9月份自我學習日誌回顧</a></h2><p class=post-list-summary><h2 id=9月份目標>9月份目標</h2><ul><li>把 Effective Go 看完</li><li>複習 JavaScript 概念，釐清各細節</li><li>工作上用到的 Protocol 相關知識</li></ul><h2 id=目標回顧>目標回顧</h2><h3 id=1-把-effective-go-看完>1. 把 Effective Go 看完</h3><p>已看完，印象比較深刻的部分包含：</p><h4 id=the-difference-between><a href=https://golang.org/doc/effective_go.html?#allocation_new>The difference between <code>new</code> and <code>make</code></a></h4><blockquote><p><code>New</code> - It&rsquo;s a built-in function that allocates memory, but unlike its namesakes in some other languages it does not initialize the memory, it only zeros it.</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2018-09-24>Sep 24, 2018</time>
<span class=reading-time>9 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2018-09-24-node-js-napi/>Node.js Addons N-API example (v10.11.0)</a></h2><p class=post-list-summary><h2 id=前言>前言</h2><p>由於專案需要整合 <a href=https://nodered.org/>Node-RED</a> ，我們必須開發自己的 Node 來讓用戶可以直接透過視覺化方式來建立簡單邏輯，又我們的 SDK 是 C 版本，因此有這機會可以接觸 Node.js 所提供的 C/C++ Addons 功能。另外，自己寫 server-side 都是使用 Golang，所以這也是難得的機會可以試試 Node.js。</p><p>目前網路上使用 Node.js <code>N-API v10.x</code> 版本的範例並不多，初期在使用時也因為對於原理不熟悉，因而踩過一些坑，希望這篇文章能講述基本概念，讓其他使用者能避免也踩到相同的坑。</p><h2 id=相關技術>相關技術</h2><ul><li>C</li><li>Node.js N-API 與v8一些原理知識</li><li>JavaScript</li></ul><h2 id=how-cc-addons-work-with-javascript>How C/C++ Addons Work With JavaScript</h2><blockquote><p><strong>C/C++ Addons</strong> Node.js Addons are dynamically-linked shared objects, written in C++, that can be loaded into Node.js using the require() function, and used just as if they were an ordinary Node.js module.</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2018-08-05>Aug 5, 2018</time>
<span class=reading-time>11 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2018-08-05-angular-schematics/>Angular Schematics</a></h2><p class=post-list-summary><h2 id=前言>前言：</h2><p>最近專案需要提供工具讓外部人員一同參與 Web App 的開發，由於我們的 Web App 已經有基本架構和開發方式，為了讓外部人員能夠更方便的 follow 架構，所以就決定使用 Schematics 來創建專屬樣板，讓協作開發人員可以迅速地建立專案用的 component page，然後他們只需要修改部分程式碼即可。</p><h2 id=angular-schematics>Angular Schematics</h2><p>因為我們使用 Angular 框架，所以就使用 Angular Schematics 來建立樣板。Schematics 是一個改善 workflow 的工具，而透過 Angular Schematics ，我們可以模組化地調整專案現有檔案，例如在專案內新增指定檔案，或是修改既有檔案的內容等，減少手動調整 effort 和錯誤發生。</p><p>如同圖片所示，我們使用 Schematics 將要修改的部分（橘色方塊）apply 在 staging area，當所有內容調整完成，再 apply 到既有的專案中。（為什麼要有 staging area，主要是因為
Schematics 中可能有不只一個修改步驟，透過先應用在 staging area ，可以避免中間有錯誤發生，而導致直接影響到既有專案） <img src="https://static1.squarespace.com/static/5618e3e3e4b0b6c3336cd921/t/5b1019b5352f53e4588abea8/1527781833021/GIF1.gif?format=1500w" alt="Schematics are atomic">
Image source：http://recurship.com/blog/2018/5/31/xfvrq9aauqkayhkd4kzp7gsbfg2bfl</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2018-07-15>Jul 15, 2018</time>
<span class=reading-time>7 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2018-07-15-redux-anti-pattern/>Redux Anti Pattern</a></h2><p class=post-list-summary><h2 id=前言>前言</h2><p>這篇文章是基於 <a href=https://blog.mgechev.com/2017/12/07/redux-anti-patterns-race-conditions-state-management-duplication/>Redux Anti-Patterns - Part 1. State Management</a> 所進行的探討，包含在專案內是否有犯類似的錯誤，以及後續該如何改善。文章會結合目前專案所使用的 Redux(ngrx)，並檢視使用 Ngrx 是否能避免這些錯誤發生。</p><h2 id=1-state-duplication>1. State Duplication</h2><h3 id=問題點>問題點</h3><p>錯誤的建立 state 導致 state 內部 property 或是與其他 state 內容重複。文章內以 session 為例子：</p><div class=highlight><div style=background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#cf222e>interface</span> <span style=color:#1f2328>Store</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>sessions</span>: <span style=color:#cf222e>Session</span><span style=color:#1f2328>[];</span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>/** The currentSession would be a part of sessions*/</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>currentSession</span>: <span style=color:#cf222e>Session</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=解決方式>解決方式</h3><p>如上面的例子，將 <code>currentSession</code> 改成 index 檢索，所以我們實際取用資料時，還是使用 <code>sessions</code> 內的資料，而不是複製一份到 currentSession。</p></p></article><article class=post-list-item><div class=post-meta><time datetime=2018-06-24>Jun 24, 2018</time>
<span class=reading-time>6 min read</span></div><h2 class=post-list-title><a href=https://yushuanhsieh.github.io/posts/2018-06-24-css-typed-om/>CSS Typed Object Model</a></h2><p class=post-list-summary><h2 id=前言>前言</h2><p>Chrome 66 版本全新支援 <code>CSS Typed Object Model</code>，透過這種新型的 CSS Typed OM，可以有效提升使用 JavaScript 操作 CSSOM 屬性的效率。雖然目前僅有 Chrome 支援（ Firefox 據說在努力中， Edge 目前沒下文），不過既然此方式能對網頁呈現效能有所提升，讓開發者和使用者都因此受惠，未來想必會成為主流方式。</p><h2 id=cssom--css-typed-object-model>CSSOM & CSS Typed Object Model</h2><h3 id=cssom>CSSOM</h3><p>傳統的 CSSOM 是使用 string 格式來進行 style 修改或是讀取等行為，當開發者傳遞一個 string 內容給 CSSOM 時，它會再解析 string 成真正需要的數值。這樣一來一往需要蠻大的成本，再加上開發者傳送 string 時不好偵錯，以及不方便開發者進行一些數值的運算等，讓傳統 CSSOM 似乎不太適合樣式操作。</p></p></article></div><ul class="pagination pagination-default"><li class=page-item><a href=/categories/web/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/categories/web/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/categories/web/ aria-label="Page 1" class=page-link role=button>1</a></li><li class="page-item active"><a aria-current=page aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/categories/web/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/categories/web/page/3/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/categories/web/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></section></main><footer class=site-footer><div class=footer-inner><p class=footer-copyright>&copy; 2026 Cherie's Tech Blog. All rights reserved.</p><p class=footer-powered>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a></p></div></footer></body></html>